# ═══════════════════════════════════════════════════════════════
# QuestForge — .env da RAIZ do projeto
# ═══════════════════════════════════════════════════════════════
#
# PROPÓSITO: variáveis de INFRAESTRUTURA do Docker Compose.
# O docker-compose.yml interpola ${VARIAVEL} a partir deste arquivo.
#
# ⚠️  NÃO coloque variáveis de aplicação Laravel aqui.
#      Variáveis do Laravel ficam em backend/.env (lido pelo container PHP).
#
# ═══════════════════════════════════════════════════════════════

# ─── Porta exposta no host ─────────────────────────────────────
# Em PRODUÇÃO: use porta 80 (HTTP padrão)
# Em DESENVOLVIMENTO: use 8000 para não conflitar com outras apps
NGINX_PORT=80

# ⚠️  IMPORTANTE: Frontend e Backend NÃO expõem portas diretamente.
#    Todo o acesso é via Nginx (gateway único).

# ─── Banco de Dados PostgreSQL ─────────────────────────────────
# Usado pelo container `db` e referenciado pelo `app` via backend/.env
DB_DATABASE=questforge
DB_USERNAME=questforge
DB_PASSWORD=secret_change_in_production
DB_PORT=5432

# ─── Redis ──────────────────────────────────────────────────────
REDIS_PORT=6379

# ═══════════════════════════════════════════════════════════════
# SEGURANÇA EM PRODUÇÃO:
# ═══════════════════════════════════════════════════════════════
# 
# 1. PostgreSQL e Redis estão bindados apenas no localhost (127.0.0.1)
#    ✓ Não são acessíveis externamente
#
# 2. Nginx é a ÚNICA porta exposta publicamente (80)
#    ✓ Frontend e Backend não são acessíveis diretamente
#
# 3. Firewall deve permitir apenas:
#    - Porta 22 (SSH)
#    - Porta 80 (HTTP)
#    - Porta 443 (HTTPS - quando configurar SSL)
#
# ═══════════════════════════════════════════════════════════════


